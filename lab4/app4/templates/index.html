{% extends 'base.html' %}

{% block content %}
    <h1 class="my-3">Задание к лабораторной работе № 4</h1>

    <p>Разработайте веб-приложение с использованием фреймворка Flask. Приложение должно предоставлять функционал по
        управлению учётными записями пользователей, а именно: создание новых записей, просмотр, редактирование и удаление.

        Учетная запись пользователя характеризуется идентификатором, логином, значением хеш-функции от пароля, фамилией,
        именем, отчеством, идентификатором роли пользователя, датой создания записи. Дата создания должна проставляться
        автоматически. У пользователя может отсутствовать фамилия или не быть роли. Роль характеризуется идентификатором,
        названием и описанием.

        В приложении должна быть реализована функциональность аутентификации (можно взять из ЛР № 3). Загрузка данных
        пользователей при аутентификации должна производится из БД.

        На главной странице приложения должен отображаться список пользователей в виде таблицы. Столбцы таблицы: порядковый
        номер пользователя, ФИО, названием роли, действия. В столбце "действия" в каждой строке должны располагаться кнопки
        "Просмотр", "Редактирование" и "Удаление". Кнопки "Редактирование" и "Удаление" должны отображаться только для
        аутентифицированных пользователей. Под таблицей должна располагаться кнопка "Создание пользователя", которая также
        должна отображаться только для аутентифицированных пользователей.</p>
    <p>
        <b>
            Просмотр записи
        </b>
    </p>
    <p>При нажатии на кнопку "Просмотр" должна открываться страница с данными выбранного пользователя (идентификатор, логин,
        фамилия, имя, отчество, название роли). Данные должны быть отображены в виде таблицы. Доступ к этой странице имеют
        все пользователи.</p>
    <p>
        <b>
            Создание записи
        </b>
    </p>
    <p>При нажатии на копку "Создание пользователя" должна открываться страница с формой для ввода данных нового
        пользователя. В случае, если неаутентифицированный пользователь пытается получить доступ к этой странице, -- он
        должен быть перенаправлен на страницу входа.

        В форме должны быть поля для ввода логина, пароля, фамилии, имени, отчества, выбора роли (селектор). Внизу формы
        должна располагаться кнопка "Сохранить", по нажатию на которую на сервер отправляется POST-запрос и происходит
        запись данных в БД. Если при обработке запроса возникает ошибка, пользователю должно быть выведено сообщение об
        ошибке (flash message) и должна отобразиться страница с заполненной формой (чтобы пользователь мог подкорректировать
        введённые данные). При успешном завершении операции пользователь должен быть перенаправлен на страницу со списком
        пользователей и ему должно отобразиться сообщение об успешном завершении операции.</p>
    <p>
        <b>
            Редактирование записи
        </b>
    </p>
    <p>При нажатии на кнопку "Редактировать" должна быть открыта страница с формой редактирования пользователя. Она должна
        быть автоматически заполнена данными редактируемого пользователя. Набор полей в этой форме должен совпадать с формой
        для создания пользователей за исключением полей "логин" и "пароль" -- их на форме для редактирования быть не должно.
        Также не должно быть дублирования шаблона формы, то есть форма должна быть реализована в виде макроса и
        использоваться как на странице создания, так и на странице редактирования пользователя. Доступ к функционалу
        редактирования имеют только аутентифицированные пользователи. Механизм обработки ошибок и вывода сообщений
        аналогичен функционалу создания.</p>
    <p>
        <b>
            Просмотр записи
        </b>
    </p>
    <p>При нажатии на кнопку "Просмотр" должна открываться страница с данными выбранного пользователя (идентификатор, логин,
        фамилия, имя, отчество, название роли). Данные должны быть отображены в виде таблицы. Доступ к этой странице имеют
        все пользователи.</p>
    <p>
        <b>
            Удаление записи
        </b>
    </p>
    <p>При нажатии на кнопку "Удалить" должно открываться модальное окно с сообщением "Вы уверены, что хотите удалить
        пользователя {}?". Вместо {} нужно подставить ФИО пользователя, которого собираются удалить. Внизу модального окна
        должны располагаться кнопки "Да" и "Нет". По нажатию на кнопку "Да" должен быть отправлен POST-запрос на сервер, в
        результате обработки которого учётная запись выбранного пользователя должна быть удалена из БД. В случае, если при
        обработке запроса возникла ошибка, необходимо отобразить сообщение пользователю. Доступ к функционалу удаления имеют
        только аутентифицированные пользователи. Механизм обработки ошибок и вывода сообщений аналогичен функционалу
        создания и редактирования.

        Реализация указанного функционала подробно разбиралась на занятиях Работа с БД из веб-приложения (13.11.2020), CRUD.
        Часть 1 (20.11.2020), CRUD. Часть 2 (27.11.2020), Авторизация пользователей (04.12.2020).</p>
    <p>
        <b>
            Для сдачи данной лабораторной работы требуется защитить её на занятии в Discord'е.
        </b>
    </p>
    <p>Выложите ваше веб-приложение на хостинг. В качестве ответа на это задание вам нужно указать ссылку на репозиторий с
        вашим решением и ссылку на ваше приложение на хостинге. В случае, если репозиторий закрытый, – не забудьте
        предоставить преподавателю доступ.</p>

{% endblock %}